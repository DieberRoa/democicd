# Xcode
# Build, test, and archive an Xcode workspace on macOS.
# Add steps that install certificates, test, sign, and distribute an app, save build artifacts, and more:
# https://docs.microsoft.com/azure/devops/pipelines/languages/xcode

trigger:
- main
- develop

pool:
  vmImage: 'macos-latest'

variables:
- group: epaycoDev

stages:
  - stage: Build
    displayName: Build iOS
    jobs:
      # Debug buildg
      - job: Build_Ios
        timeoutInMinutes: 0
        variables:
          - name: SDK
            value: iphoneos
          - name: Configuration
            value: Release
          - name: branch
            value: $(Build.SourceBranch)
        displayName: Build $(Build.SourceBranch)
        steps:
          - ${{ if ne($(branch), 'develop') }} 
          - template: ios-develop.yml
          - ${{ if ne($(branch), 'main') }} 
          - template: ios-main.yml




